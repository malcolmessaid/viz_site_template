{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Settlement Expansion in the West Bank Data Visualization\n",
    "#### By Mahmoud Malcolm Essaid\n",
    "\n",
    "\n",
    "\n",
    "In this notebook, I will do few different things. I will explain what I intend to show and do with the final visualization. I will explain why this dataset is of particular signifigance to me. I will dicuss the dataset, itself. I will walk through my process of collecting the data. \n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part 1: Goal of the Project\n",
    "\n",
    "In this project, I will attempt to graphically demonstrate the expansion of Settlements into the West Bank. Beginning around 1967, Israel started to build settlements throughtout the West Bank. At times sanctioned by the government, at times not, settlers have slowly taken more and more Palestinian land. With my visualization, I hope the show the user the influx of settlements audience the years. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part 2: Why This Topic\n",
    "\n",
    "I have chosen this topic becuase it is both one that interests me greatly, and one that I have good deal of knowledge on."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part 3: The Data\n",
    "\n",
    "Website with the data: http://peacenow.org.il/en/category/settlements\n",
    "\n",
    "\n",
    "In order to properly display this, I will need a dataset of all of the settlements in the West Bank, holding their founding dates, longitudes and latitudes. Luckily, I know that this data exists, as this summer I met with an NGO that focuses on this exactly. The orgnization *Settlement Watch* within *Peace Now* keeps record of settlments using satelliete data. \n",
    "\n",
    "Their website has a list of all of the official settlements with certain information attached to each settlement. By scraping the data from their webiste, I can create a dataset that will allow me to create a visualization."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part 4: Collecting the Data\n",
    "\n",
    "Collecting the data will take some work, as *Settlement Watch* does not have a clean csv of its data. I will have to use the Pythom Library **Beautiful Soup** to scrape the data from the HTML of the website. Using this library, I should be able to navigate through the webstie and collect the necessary information. For each settelment, I will want to collect the latitude, longitutde, establishment date, and name. Some of the settlements do not have their establishment date listed, and because my visualization will use both date and location, I won't be able to use those that don't hold that information. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Part 5: The Code\n",
    "\n",
    "\n",
    "I have to start  by importing the libraries I need and define global variables. The URL is the link to the list of settlements. Rudd Fawcett helped me with learning Beautiful Soup and writing this code."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "import json\n",
    "\n",
    "from bs4 import BeautifulSoup\n",
    "from urllib.request import Request, urlopen\n",
    "import pandas as pd\n",
    "\n",
    "\n",
    "HEADERS = {'User-Agent': 'Mozilla/5.0'}\n",
    "SETTLEMENT_URL = 'http://peacenow.org.il/en/settlements-watch/israeli-settlements-at-the-west-bank-the-list'\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Now, I'm going to define a function that scrapes the data. I begin by defining some Beautiful Soup obejcts that are necessary for doing the scraping. \n",
    "\n",
    "Next, I, using the find function, define a list of all elements with the id 'settlement-list'. Then I loop through that list looking for settlments that have an establishment date. As all the settlement have locations and names listed, I only need to check for dates.\n",
    "\n",
    "In the loop, I go to the indivdiaul page of each of the elements. From looking at the webstie, I gathered that the elements of type 'settlement' always have an establishment date listed. So I check each element's type, and if it's 'settlement', then I scrape the establishment date of those elements. \n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "def scrape():\n",
    "    req = Request(SETTLEMENT_URL, headers=HEADERS)\n",
    "    page = urlopen(req)\n",
    "    soup = BeautifulSoup(page, 'lxml')\n",
    "\n",
    "    listing = soup.find(id='settlements-list')\n",
    "\n",
    "\n",
    "    settlements = []\n",
    "\n",
    "    for item in listing.findAll('a'):\n",
    "        link = item['href']\n",
    "\n",
    "        req = Request(link, headers=HEADERS)\n",
    "        page = urlopen(req)\n",
    "        soup = BeautifulSoup(page, 'lxml')\n",
    "\n",
    "        container = soup.find('article')\n",
    "        name = container.find(class_='page-title').text\n",
    "        location = container.find(id='settleLocation')['location-data']\n",
    "\n",
    "        body = container.find('section', class_='entry-content cf')\n",
    "        type_ = body.find('span', class_='right natun').text\n",
    "\n",
    "        if (type_.replace(' ', '').lower() != 'settlement'):\n",
    "            continue\n",
    "\n",
    "        list_items = container.findAll('li')\n",
    "\n",
    "        for itemSub in list_items:\n",
    "            if (itemSub.find('span').text == \"Establishment\"):\n",
    "                year = int(itemSub.findAll('span')[2].text)\n",
    "\n",
    "\n",
    "        settlement = {\n",
    "            'name': name,\n",
    "            'longitude': float(location.split(' ')[0]),\n",
    "            'latitude': float(location.split(' ')[1]),\n",
    "            'establishment': year\n",
    "        }\n",
    "\n",
    "        settlements.append(settlement)\n",
    "\n",
    "    return settlements\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The scrape function will return an array of Dicts with each of the values representing one settlement. Each Dict will hold the name, establishment date, longitude, and latitude of each settlement. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Running the function should take about 12 minutes."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[{'establishment': 2006,\n",
       "  'latitude': 31.778040507657078,\n",
       "  'longitude': 35.243008457047914,\n",
       "  'name': 'A-Tur Settlement'},\n",
       " {'establishment': 1984,\n",
       "  'latitude': 31.55309421379548,\n",
       "  'longitude': 35.01774286738666,\n",
       "  'name': 'Adora'},\n",
       " {'establishment': 1982,\n",
       "  'latitude': 32.0708885682597,\n",
       "  'longitude': 35.066832989458554,\n",
       "  'name': 'Alei Zahav'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 32.17202836216408,\n",
       "  'longitude': 35.015115735028125,\n",
       "  'name': 'Alfei Menashe'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 31.787808953122074,\n",
       "  'longitude': 35.461579716657816,\n",
       "  'name': 'Almog'},\n",
       " {'establishment': 1982,\n",
       "  'latitude': 31.828252674472346,\n",
       "  'longitude': 35.29419899446229,\n",
       "  'name': 'Almon'},\n",
       " {'establishment': 1990,\n",
       "  'latitude': 31.832965252786956,\n",
       "  'longitude': 35.35438494907124,\n",
       "  'name': 'Alon'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 31.655332188496462,\n",
       "  'longitude': 35.12698036522121,\n",
       "  'name': 'Alon Shvut'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 32.17245882136152,\n",
       "  'longitude': 35.52163457046195,\n",
       "  'name': 'Argaman'},\n",
       " {'establishment': 1978,\n",
       "  'latitude': 32.102818538369334,\n",
       "  'longitude': 35.18213742014299,\n",
       "  'name': 'Ariel'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 31.587680028277408,\n",
       "  'longitude': 35.18840978663554,\n",
       "  'name': 'Asfar'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 31.99953297585485,\n",
       "  'longitude': 35.179080332481014,\n",
       "  'name': 'Ateret'},\n",
       " {'establishment': 1990,\n",
       "  'latitude': 32.28625975693493,\n",
       "  'longitude': 35.07717783276564,\n",
       "  'name': 'Avnei Hefetz'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 32.110559160762456,\n",
       "  'longitude': 35.10590195992601,\n",
       "  'name': 'Barqan'},\n",
       " {'establishment': 1989,\n",
       "  'latitude': 31.659708557338824,\n",
       "  'longitude': 35.10185813296784,\n",
       "  'name': 'Bat Ayin'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 32.0366107181388,\n",
       "  'longitude': 35.05187406859935,\n",
       "  'name': 'Beit Arye'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 31.942303805118446,\n",
       "  'longitude': 35.227790421085245,\n",
       "  'name': 'Beit El'},\n",
       " {'establishment': 1980,\n",
       "  'latitude': 31.80819915152602,\n",
       "  'longitude': 35.47871148739834,\n",
       "  'name': 'Beit Haâ€™arava'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 31.876406184312362,\n",
       "  'longitude': 35.129688862969815,\n",
       "  'name': 'Beit Horon'},\n",
       " {'establishment': 1991,\n",
       "  'latitude': 31.785357292808335,\n",
       "  'longitude': 35.24604948621685,\n",
       "  'name': 'Beit Orot'},\n",
       " {'establishment': 1985,\n",
       "  'latitude': 31.701458039653776,\n",
       "  'longitude': 35.1166794293294,\n",
       "  'name': 'Beitar Illit'},\n",
       " {'establishment': 1972,\n",
       "  'latitude': 32.24094574616457,\n",
       "  'longitude': 35.45721456351868,\n",
       "  'name': 'Beqaâ€™ot'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 32.19309252647241,\n",
       "  'longitude': 35.26115449923903,\n",
       "  'name': 'Bracha'},\n",
       " {'establishment': 1999,\n",
       "  'latitude': 32.080844785198494,\n",
       "  'longitude': 35.08940269436691,\n",
       "  'name': 'Bruchin'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 31.431615576622722,\n",
       "  'longitude': 35.18577535982522,\n",
       "  'name': 'Carmel'},\n",
       " {'establishment': 1980,\n",
       "  'latitude': 32.25146042649604,\n",
       "  'longitude': 35.52676746661838,\n",
       "  'name': 'Chemdat'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 31.92755515465879,\n",
       "  'longitude': 35.13460391611167,\n",
       "  'name': 'Dolev'},\n",
       " {'establishment': 1980,\n",
       "  'latitude': 31.666136361800746,\n",
       "  'longitude': 35.15930072463069,\n",
       "  'name': 'Efrat'},\n",
       " {'establishment': 1975,\n",
       "  'latitude': 31.663332855023913,\n",
       "  'longitude': 35.13898097241258,\n",
       "  'name': 'Elâ€™azar'},\n",
       " {'establishment': 1984,\n",
       "  'latitude': 32.07458744569051,\n",
       "  'longitude': 35.27122950685822,\n",
       "  'name': 'Eli'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 32.11395288271975,\n",
       "  'longitude': 35.03566059572881,\n",
       "  'name': 'Elkana'},\n",
       " {'establishment': 1979,\n",
       "  'latitude': 32.22816190237197,\n",
       "  'longitude': 35.34560466645535,\n",
       "  'name': 'Elon More'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 32.286611703521594,\n",
       "  'longitude': 35.12641802290129,\n",
       "  'name': 'Enav'},\n",
       " {'establishment': 1982,\n",
       "  'latitude': 31.39115804152838,\n",
       "  'longitude': 34.90512081709341,\n",
       "  'name': 'Eshkolot'},\n",
       " {'establishment': 1985,\n",
       "  'latitude': 32.119806618241434,\n",
       "  'longitude': 35.046438488913005,\n",
       "  'name': 'Etz Efraim'},\n",
       " {'establishment': 1984,\n",
       "  'latitude': 31.849174305108722,\n",
       "  'longitude': 35.281068391466654,\n",
       "  'name': 'Geva Binyamin'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 31.99984349847878,\n",
       "  'longitude': 35.447111993071914,\n",
       "  'name': 'Gilgal'},\n",
       " {'establishment': 1973,\n",
       "  'latitude': 32.103447837213906,\n",
       "  'longitude': 35.39278207234419,\n",
       "  'name': 'Gitit'},\n",
       " {'establishment': 1980,\n",
       "  'latitude': 31.84866361922786,\n",
       "  'longitude': 35.15810839959255,\n",
       "  'name': 'Givâ€™on Haâ€™hadasha'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 31.86003829012973,\n",
       "  'longitude': 35.16776815741891,\n",
       "  'name': 'Givat Zeâ€™ev'},\n",
       " {'establishment': 1984,\n",
       "  'latitude': 31.490105542857386,\n",
       "  'longitude': 35.078154721231435,\n",
       "  'name': 'Haggai'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 32.00752773211137,\n",
       "  'longitude': 35.12687539175095,\n",
       "  'name': 'Halamish'},\n",
       " {'establishment': 1971,\n",
       "  'latitude': 32.199019642462225,\n",
       "  'longitude': 35.435434828790164,\n",
       "  'name': 'Hamra'},\n",
       " {'establishment': 1986,\n",
       "  'latitude': 31.825698301186893,\n",
       "  'longitude': 35.12877781951794,\n",
       "  'name': 'Har Adar'},\n",
       " {'establishment': 1972,\n",
       "  'latitude': 31.722432595767593,\n",
       "  'longitude': 35.17042211700016,\n",
       "  'name': 'Har Gilo'},\n",
       " {'establishment': 1985,\n",
       "  'latitude': 31.9310036471396,\n",
       "  'longitude': 35.01915274693521,\n",
       "  'name': 'Hashmonaim'},\n",
       " {'establishment': 1978,\n",
       "  'latitude': 31.523782401879657,\n",
       "  'longitude': 35.10711213781153,\n",
       "  'name': 'Hebron Settlement'},\n",
       " {'establishment': 1982,\n",
       "  'latitude': 32.423246880127486,\n",
       "  'longitude': 35.11843675317444,\n",
       "  'name': 'Hermesh'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 32.48045024476094,\n",
       "  'longitude': 35.17063852157768,\n",
       "  'name': 'Hinanit'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 32.162008022426335,\n",
       "  'longitude': 35.13945238409582,\n",
       "  'name': 'Immanuel'},\n",
       " {'establishment': 1984,\n",
       "  'latitude': 32.16349215789539,\n",
       "  'longitude': 35.34500706862544,\n",
       "  'name': 'Itamar'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 31.75186151361881,\n",
       "  'longitude': 35.4666564708977,\n",
       "  'name': 'Kalia'},\n",
       " {'establishment': 1984,\n",
       "  'latitude': 31.609231735606173,\n",
       "  'longitude': 35.10046135000323,\n",
       "  'name': 'Karmei Tzur'},\n",
       " {'establishment': 1978,\n",
       "  'latitude': 32.17408790550177,\n",
       "  'longitude': 35.10029194063115,\n",
       "  'name': 'Karnei Shomron'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 32.216878405999836,\n",
       "  'longitude': 35.160193224863434,\n",
       "  'name': 'Kedumim'},\n",
       " {'establishment': 1985,\n",
       "  'latitude': 31.753868126764328,\n",
       "  'longitude': 35.31126513355736,\n",
       "  'name': 'Keidar'},\n",
       " {'establishment': 1979,\n",
       "  'latitude': 31.82366037999089,\n",
       "  'longitude': 35.338701687649014,\n",
       "  'name': 'Kfar Adumim'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 31.651984799745296,\n",
       "  'longitude': 35.11367044542422,\n",
       "  'name': 'Kfar Etzion'},\n",
       " {'establishment': 1998,\n",
       "  'latitude': 31.91896817392235,\n",
       "  'longitude': 35.03854103227467,\n",
       "  'name': 'Kfar Haâ€™oranim'},\n",
       " {'establishment': 1978,\n",
       "  'latitude': 32.11881227452171,\n",
       "  'longitude': 35.242660041300425,\n",
       "  'name': 'Kfar Tapuah'},\n",
       " {'establishment': 1972,\n",
       "  'latitude': 31.53415803768981,\n",
       "  'longitude': 35.1215037499155,\n",
       "  'name': 'Kiryat Arba'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 32.11687764622792,\n",
       "  'longitude': 35.11235567493357,\n",
       "  'name': 'Kiryat Netafim'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 31.955649715253568,\n",
       "  'longitude': 35.34912570199127,\n",
       "  'name': 'Kochav Haâ€™shachar'},\n",
       " {'establishment': 1985,\n",
       "  'latitude': 31.87988333858213,\n",
       "  'longitude': 35.24316262185931,\n",
       "  'name': 'Kochav Yaâ€™akov'},\n",
       " {'establishment': 1975,\n",
       "  'latitude': 31.776219461503853,\n",
       "  'longitude': 35.30836919846481,\n",
       "  'name': 'Maâ€™ale Adumim'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 31.60635812542627,\n",
       "  'longitude': 35.220799489804605,\n",
       "  'name': 'Maâ€™ale Amos'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 32.07074973929585,\n",
       "  'longitude': 35.40936236208757,\n",
       "  'name': 'Maâ€™ale Efraim'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 32.055685871842016,\n",
       "  'longitude': 35.24177768860029,\n",
       "  'name': 'Maâ€™ale Levona'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 31.877004545122283,\n",
       "  'longitude': 35.30887686475041,\n",
       "  'name': 'Maâ€™ale Michmash'},\n",
       " {'establishment': 1980,\n",
       "  'latitude': 32.16343865332749,\n",
       "  'longitude': 35.07216669957941,\n",
       "  'name': 'Maâ€™ale Shomron'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 31.41187149667786,\n",
       "  'longitude': 35.16401226353539,\n",
       "  'name': 'Maâ€™on'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 32.31734775166015,\n",
       "  'longitude': 35.50283127710146,\n",
       "  'name': 'Maskiyot'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 32.108371967785736,\n",
       "  'longitude': 35.49339546389124,\n",
       "  'name': 'Masuâ€™a'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 31.929725432526663,\n",
       "  'longitude': 35.032104383121045,\n",
       "  'name': 'Matityahu'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 32.36401147854047,\n",
       "  'longitude': 35.513584605129275,\n",
       "  'name': 'Mechola'},\n",
       " {'establishment': 1973,\n",
       "  'latitude': 32.16160750824438,\n",
       "  'longitude': 35.42113321821541,\n",
       "  'name': 'Mechora'},\n",
       " {'establishment': 1978,\n",
       "  'latitude': 32.419919346927514,\n",
       "  'longitude': 35.17585426334304,\n",
       "  'name': 'Mevo Dotan'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 31.848505521747747,\n",
       "  'longitude': 35.040705444462205,\n",
       "  'name': 'Mevo Horon'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 31.640182889436595,\n",
       "  'longitude': 35.14385639796924,\n",
       "  'name': 'Migdal Oz'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 32.09140351350006,\n",
       "  'longitude': 35.34401524636715,\n",
       "  'name': 'Migdalim'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 31.874331171254465,\n",
       "  'longitude': 35.25891123849247,\n",
       "  'name': 'Migron HaHadasha'},\n",
       " {'establishment': 1971,\n",
       "  'latitude': 31.56674078283152,\n",
       "  'longitude': 35.4021069849628,\n",
       "  'name': 'Mitzpe Shalem'},\n",
       " {'establishment': 1978,\n",
       "  'latitude': 31.819317590872263,\n",
       "  'longitude': 35.39737715592495,\n",
       "  'name': 'Mitzpe Yericho'},\n",
       " {'establishment': 1996,\n",
       "  'latitude': 31.931454396659753,\n",
       "  'longitude': 35.04651267588961,\n",
       "  'name': 'Modiâ€™in Ilit'},\n",
       " {'establishment': 1988,\n",
       "  'latitude': 31.963142631588266,\n",
       "  'longitude': 35.0636127399645,\n",
       "  'name': 'Naâ€™ale'},\n",
       " {'establishment': 1982,\n",
       "  'latitude': 31.91114424537272,\n",
       "  'longitude': 35.466483387316636,\n",
       "  'name': 'Naâ€™ama'},\n",
       " {'establishment': 1984,\n",
       "  'latitude': 31.974083626998674,\n",
       "  'longitude': 35.14054522673692,\n",
       "  'name': 'Nahliel'},\n",
       " {'establishment': 1999,\n",
       "  'latitude': 31.49391796505987,\n",
       "  'longitude': 34.980523406125975,\n",
       "  'name': 'Negohot'},\n",
       " {'establishment': 1976,\n",
       "  'latitude': 31.988517394043793,\n",
       "  'longitude': 35.4463531316277,\n",
       "  'name': 'Netiv Haâ€™gdud'},\n",
       " {'establishment': 1982,\n",
       "  'latitude': 31.67851775780505,\n",
       "  'longitude': 35.14299251358375,\n",
       "  'name': 'Neve Daniel'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 31.9635756848173,\n",
       "  'longitude': 35.04649533753121,\n",
       "  'name': 'Nili'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 31.969582876342592,\n",
       "  'longitude': 35.46157894055707,\n",
       "  'name': 'Niran'},\n",
       " {'establishment': 1982,\n",
       "  'latitude': 32.14926392847785,\n",
       "  'longitude': 34.98632048631277,\n",
       "  'name': 'Nirit'},\n",
       " {'establishment': 2004,\n",
       "  'latitude': 31.75310467832823,\n",
       "  'longitude': 35.24276452064334,\n",
       "  'name': 'Nof Zion Jabel Mukaber'},\n",
       " {'establishment': 1987,\n",
       "  'latitude': 32.153919393780214,\n",
       "  'longitude': 35.10164892091313,\n",
       "  'name': 'Nofim'},\n",
       " {'establishment': 1982,\n",
       "  'latitude': 31.651894805480797,\n",
       "  'longitude': 35.249164797283505,\n",
       "  'name': 'Nokdim'},\n",
       " {'establishment': 1975,\n",
       "  'latitude': 31.94844395164043,\n",
       "  'longitude': 35.266308143169766,\n",
       "  'name': 'Ofra'},\n",
       " {'establishment': 1985,\n",
       "  'latitude': 32.12974704046303,\n",
       "  'longitude': 34.98951146821848,\n",
       "  'name': 'Oranit'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 31.43938440309851,\n",
       "  'longitude': 35.03104884869394,\n",
       "  'name': 'Otniel'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 31.679086304443395,\n",
       "  'longitude': 35.43724915279129,\n",
       "  'name': 'Ovnat'},\n",
       " {'establishment': 1984,\n",
       "  'latitude': 32.06227283803334,\n",
       "  'longitude': 35.052795549053926,\n",
       "  'name': 'Peduâ€™el'},\n",
       " {'establishment': 1975,\n",
       "  'latitude': 32.04437765539942,\n",
       "  'longitude': 35.44304601696836,\n",
       "  'name': 'Petzael'},\n",
       " {'establishment': 1982,\n",
       "  'latitude': 31.486176975361882,\n",
       "  'longitude': 35.16601462262568,\n",
       "  'name': 'Pnei Hever'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 31.897693135942703,\n",
       "  'longitude': 35.22705529091857,\n",
       "  'name': 'Psagot'},\n",
       " {'establishment': 1998,\n",
       "  'latitude': 31.772140478045724,\n",
       "  'longitude': 35.24071015799067,\n",
       "  'name': 'Ras El-Amud Settlement'},\n",
       " {'establishment': 1991,\n",
       "  'latitude': 32.10118740874444,\n",
       "  'longitude': 35.25406199781783,\n",
       "  'name': 'Rechelim'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 32.470036561093174,\n",
       "  'longitude': 35.13704203636512,\n",
       "  'name': 'Reihan'},\n",
       " {'establishment': 1991,\n",
       "  'latitude': 32.118192052597585,\n",
       "  'longitude': 35.128386636964265,\n",
       "  'name': 'Revava'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 31.93379255294725,\n",
       "  'longitude': 35.34085311964924,\n",
       "  'name': 'Rimonim'},\n",
       " {'establishment': 1976,\n",
       "  'latitude': 32.249727002521105,\n",
       "  'longitude': 35.483929859813976,\n",
       "  'name': 'Roâ€™i'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 31.668109015040137,\n",
       "  'longitude': 35.12344888494522,\n",
       "  'name': 'Rosh Tzurim'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 32.336252952364944,\n",
       "  'longitude': 35.519280622161766,\n",
       "  'name': 'Rotem'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 32.242761131027095,\n",
       "  'longitude': 35.04743286803615,\n",
       "  'name': 'Salâ€™it'},\n",
       " {'establishment': 1999,\n",
       "  'latitude': 31.36350509172312,\n",
       "  'longitude': 34.90281853392852,\n",
       "  'name': 'Sansana'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 32.123359577959555,\n",
       "  'longitude': 35.025737529999944,\n",
       "  'name': 'Shaâ€™arei Tikva'},\n",
       " {'establishment': 1979,\n",
       "  'latitude': 32.34809518689824,\n",
       "  'longitude': 35.53439968750483,\n",
       "  'name': 'Shadmot Mehola'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 32.47417247070662,\n",
       "  'longitude': 35.168213606423876,\n",
       "  'name': 'Shaked'},\n",
       " {'establishment': 1989,\n",
       "  'latitude': 31.358127580622515,\n",
       "  'longitude': 35.070032977439816,\n",
       "  'name': 'Shani'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 32.26455063714555,\n",
       "  'longitude': 35.181073294455636,\n",
       "  'name': 'Shavei Shomron'},\n",
       " {'establishment': 2001,\n",
       "  'latitude': 31.762555435025483,\n",
       "  'longitude': 35.25182104296913,\n",
       "  'name': 'Sheikh Jarrah Settlement'},\n",
       " {'establishment': 1979,\n",
       "  'latitude': 32.05384593871729,\n",
       "  'longitude': 35.301248401926955,\n",
       "  'name': 'Shilo'},\n",
       " {'establishment': 1985,\n",
       "  'latitude': 31.387564827791955,\n",
       "  'longitude': 35.01280853590105,\n",
       "  'name': 'Shimâ€™a'},\n",
       " {'establishment': 1991,\n",
       "  'latitude': 31.773589680412737,\n",
       "  'longitude': 35.235151776124596,\n",
       "  'name': 'Silwan Settlement'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 31.39062240686849,\n",
       "  'longitude': 35.111539553353786,\n",
       "  'name': 'Suseya'},\n",
       " {'establishment': 1989,\n",
       "  'latitude': 31.94351373569374,\n",
       "  'longitude': 35.146155572599476,\n",
       "  'name': 'Talmon'},\n",
       " {'establishment': 1982,\n",
       "  'latitude': 31.564267543265576,\n",
       "  'longitude': 35.03074527786298,\n",
       "  'name': 'Telem'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 31.37428541559164,\n",
       "  'longitude': 34.956605595973535,\n",
       "  'name': 'Tene'},\n",
       " {'establishment': 1977,\n",
       "  'latitude': 31.644574892714136,\n",
       "  'longitude': 35.23260200392671,\n",
       "  'name': 'Tkoâ€™a'},\n",
       " {'establishment': 1978,\n",
       "  'latitude': 32.01829769098448,\n",
       "  'longitude': 35.43902500037836,\n",
       "  'name': 'Tomer'},\n",
       " {'establishment': 1989,\n",
       "  'latitude': 32.19875158703569,\n",
       "  'longitude': 35.01006308539585,\n",
       "  'name': 'Tzofim'},\n",
       " {'establishment': 1980,\n",
       "  'latitude': 31.82712151245503,\n",
       "  'longitude': 35.431851077291654,\n",
       "  'name': 'Vered Yericho'},\n",
       " {'establishment': 1980,\n",
       "  'latitude': 32.06151775719073,\n",
       "  'longitude': 35.47184592629318,\n",
       "  'name': 'Yafit'},\n",
       " {'establishment': 1981,\n",
       "  'latitude': 32.150404098023024,\n",
       "  'longitude': 35.113969150315064,\n",
       "  'name': 'Yakir'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 31.36291814630238,\n",
       "  'longitude': 35.11049825846973,\n",
       "  'name': 'Yatir (aka Metzadot Yehuda)'},\n",
       " {'establishment': 1970,\n",
       "  'latitude': 31.947600832404568,\n",
       "  'longitude': 35.42486847684885,\n",
       "  'name': 'Yitav'},\n",
       " {'establishment': 1983,\n",
       "  'latitude': 32.16472005391367,\n",
       "  'longitude': 35.23879473727083,\n",
       "  'name': 'Yitzhar'}]"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "##all_settlements = scrape()\n",
    "all_settlements"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "After I have an array, I need to use pandas to convert that to a csv."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "df = pd.DataFrame(all_settlements)\n",
    "df.to_csv('nowpeace-settlements.csv', index=False)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "As I have created my own csv, I have put it into the exact form I need it to be. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "collapsed": true
   },
   "source": [
    "Because the data takes so long to collect, the I have the csv already stored in the folder. If you run the above code, it will just replace csv with a new version of it. "
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
